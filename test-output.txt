
> 10x-astro-starter@0.0.1 test:e2e
> playwright test

[dotenv@17.2.3] injecting env (7) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

Running 54 tests using 3 workers

[1A[2K[dotenv@17.2.3] injecting env (0) from .env.test -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

[1A[2K[1/54] [auth-tests] › e2e\auth\00-setup-auth.spec.ts:16:3 › Setup - Authentication State › authenticate and save state
[1A[2K[dotenv@17.2.3] injecting env (0) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

[1A[2K[dotenv@17.2.3] injecting env (0) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

[1A[2K[2/54] [auth-tests] › e2e\auth\example.spec.ts:11:3 › Homepage › should redirect unauthenticated users to login
[1A[2K[3/54] [auth-tests] › e2e\auth\example.spec.ts:25:3 › Homepage › should demonstrate visual regression testing on login page
[1A[2K[4/54] [auth-tests] › e2e\auth\example.spec.ts:42:3 › Authentication Flow › should navigate to login page
[1A[2K[5/54] [auth-tests] › e2e\auth\example.spec.ts:53:3 › Authentication Flow › should show validation errors for invalid input
[1A[2K[6/54] [auth-tests] › e2e\auth\login-with-helpers.spec.ts:17:3 › Login with Helpers › should show error with invalid credentials
[1A[2K[7/54] [auth-tests] › e2e\auth\login.spec.ts:21:5 › Login Page › Page Layout › should display auth layout with correct title and subtitle
[1A[2K[8/54] [auth-tests] › e2e\auth\login.spec.ts:26:5 › Login Page › Page Layout › should display all login form elements
[1A[2K[9/54] [auth-tests] › e2e\auth\login.spec.ts:33:5 › Login Page › Page Layout › should display navigation links
[1A[2K[10/54] [auth-tests] › e2e\auth\login.spec.ts:40:5 › Login Page › Form Interactions › should allow filling email and password fields
[1A[2K[11/54] [auth-tests] › e2e\auth\login-with-helpers.spec.ts:28:3 › Login with Helpers › should show error for invalid email format
[1A[2K[12/54] [auth-tests] › e2e\auth\login.spec.ts:48:5 › Login Page › Form Interactions › should show submit button as enabled by default
[1A[2K[13/54] [auth-tests] › e2e\auth\login.spec.ts:53:5 › Login Page › Form Interactions › should disable submit button while submitting
[1A[2K[14/54] [auth-tests] › e2e\auth\login-with-helpers.spec.ts:41:8 › Login with Helpers › should show error for short password
[1A[2K  1) [auth-tests] › e2e\auth\login.spec.ts:53:5 › Login Page › Form Interactions › should disable submit button while submitting 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeDisabled[2m([22m[2m)[22m failed

    Locator:  getByTestId('login-submit-button')
    Expected: disabled
    Received: enabled
    Timeout:  1000ms

    Call log:
    [2m  - Expect "toBeDisabled" with timeout 1000ms[22m
    [2m  - waiting for getByTestId('login-submit-button')[22m
    [2m    5 × locator resolved to <button type="submit" data-slot="button" data-testid="login-submit-button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid…>Sign in</button>[22m
    [2m      - unexpected value "enabled"[22m


      60 |
      61 |       // Wait for the button to become disabled (React state update)
    > 62 |       await expect(loginPage.submitButton).toBeDisabled({ timeout: 1000 });
         |                                            ^
      63 |     });
      64 |   });
      65 |
        at D:\DEVELOPER\GitHub\10xcards\10x-cards\e2e\auth\login.spec.ts:62:44

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results\auth-login-Login-Page-Form-2ff28-mit-button-while-submitting-auth-tests\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    test-results\auth-login-Login-Page-Form-2ff28-mit-button-while-submitting-auth-tests\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: test-results\auth-login-Login-Page-Form-2ff28-mit-button-while-submitting-auth-tests\error-context.md


[1A[2K[15/54] [auth-tests] › e2e\auth\login.spec.ts:67:5 › Login Page › Error Handling › should show error for invalid credentials
[1A[2K[16/54] [auth-tests] › e2e\auth\login.spec.ts:79:10 › Login Page › Error Handling › should show error for short password
[1A[2K[17/54] [auth-tests] › e2e\auth\login.spec.ts:89:5 › Login Page › Error Handling › should show error for invalid email format
[1A[2K[18/54] [auth-tests] › e2e\auth\login.spec.ts:101:5 › Login Page › Navigation › should navigate to register page when clicking sign up link
[1A[2K[19/54] [auth-tests] › e2e\auth\login.spec.ts:106:5 › Login Page › Navigation › should navigate to reset password page when clicking forgot password link
[1A[2K[20/54] [auth-tests] › e2e\auth\login.spec.ts:114:10 › Login Page › Successful Login › should successfully log in with valid credentials
[1A[2K  2) [auth-tests] › e2e\auth\00-setup-auth.spec.ts:16:3 › Setup - Authentication State › authenticate and save state 

    TimeoutError: page.waitForURL: Timeout 45000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:3000/auth/login"
      navigated to "http://localhost:3000/auth/login"
    ============================================================

      42 |     // Wait for successful authentication and redirect away from login page
      43 |     // The app redirects to a protected page after successful login
    > 44 |     await page.waitForURL((url) => !url.pathname.includes("/auth/login"), { timeout: 45000 });
         |                ^
      45 |
      46 |     // Verify we're authenticated by checking we're NOT on a login page
      47 |     await expect(page).not.toHaveURL(/.*\/auth\/login/);
        at D:\DEVELOPER\GitHub\10xcards\10x-cards\e2e\auth\00-setup-auth.spec.ts:44:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results\auth-00-setup-auth-Setup---39db1-authenticate-and-save-state-auth-tests\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    test-results\auth-00-setup-auth-Setup---39db1-authenticate-and-save-state-auth-tests\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: test-results\auth-00-setup-auth-Setup---39db1-authenticate-and-save-state-auth-tests\error-context.md


[1A[2K  2 failed
    [auth-tests] › e2e\auth\00-setup-auth.spec.ts:16:3 › Setup - Authentication State › authenticate and save state 
    [auth-tests] › e2e\auth\login.spec.ts:53:5 › Login Page › Form Interactions › should disable submit button while submitting 
  3 skipped
  38 did not run
  11 passed (52.6s)

[36m  Serving HTML report at http://localhost:58884. Press Ctrl+C to quit.[39m
